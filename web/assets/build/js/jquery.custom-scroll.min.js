!function(t){function i(i,n){function s(){m.on("DOMMouseScroll mousewheel",function(i){var o=t(this),r=this.scrollTop,e=this.scrollHeight,n=o.height(),s="DOMMouseScroll"==i.type?i.originalEvent.detail*-40:i.originalEvent.wheelDelta,a=s>0;(a?0===r:r===e-n)&&i.preventDefault()})}function a(o,r){i["scroll"+r.Dir](0);var e=n.prefix+"bar"+r.suffix,s=i.children("."+e);s.length||(s=t(n.barHtml).addClass(e).appendTo(i)),s.on("mousedown touchstart",function(t){t.preventDefault();var i=m["scroll"+r.Dir](),e=t[r.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][r.clientAxis],n=l(o,r).ratio;y.on("mousemove.custom-scroll touchmove.custom-scroll",function(t){t.preventDefault();var o=t[r.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][r.clientAxis];m["scroll"+r.Dir](i+(o-e)/n)}),y.on("mouseup.custom-scroll touchend.custom-scroll",function(){y.off(".custom-scroll")})}),H[o]=s}function l(t,o){var r=0|m.prop("scroll"+o.Dim),e=i["inner"+o.Dim](),s=m["inner"+o.Dim](),a=e-n["offset"+o.Dir]-n["offset"+o.Dir2];g["x"==t?"y":"x"]||(a-=n["track"+o.Dim]);var l=Math.max(a*e/r|0,n["barMin"+o.Dim]),c=(a-l)/(r-s);return{ratio:c,dim:e,scroll:a,total:r,bar:l}}function c(){try{skins.itemsWrapShowIcons()}catch(i){console.log(i.toString())}t.each(u,d)}function d(t,o){var r=l(t,o);if(r.total){var e=m["scroll"+o.Dir]();if(p[t].scrollPos!==e||p[t].scroll!==r.scroll||p[t].total!==r.total){p[t]=r,p[t].scrollPos=e;var s=r.bar>=r.scroll;s!==g[t]&&(i.toggleClass(n.prefix+"hidden"+o.suffix,s),g[t]=s);var a=e*r.ratio;a<0&&(a=0),a>r.scroll-r.bar&&(a=r.scroll-r.bar),H[t][o.dim](r.bar).css(o.dir,n["offset"+o.Dir]+a)}}}function h(){t.each(u,function(t){H[t].remove()}),i.removeClass(n.prefix+"container").removeData("custom-scroll").css({padding:"",maxHeight:""}),m.contents().appendTo(i),m.remove()}var f=i.data("custom-scroll");n=f?f.options:t.extend({},o,n);var u={},p={},g={x:+n.vertical,y:+n.horizontal};if(n.horizontal&&(u.x=e,p.x={}),n.vertical&&(u.y=r,p.y={}),i.hasClass(n.prefix+"container")&&f)return f.updateBars(),f;var m=i.children("."+n.prefix+"inner");m.length||(m=i.wrapInner('<div class="'+n.prefix+'inner"></div>').children()),i.addClass(n.prefix+"container");var v=t('<div class="'+n.prefix+'inner" />').width(100).height(100).appendTo("body").css({overflow:"scroll"})[0],x=v.offsetWidth-v.clientWidth,D=v.offsetHeight-v.clientHeight;v.parentElement.removeChild(v),n.vertical?(m.css({paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),marginRight:-x+"px"}),i.css({paddingLeft:0,paddingRight:0})):m.css({overflowY:"hidden"}),n.horizontal?(m.css({marginBottom:-D+"px",paddingBottom:D+"px"}),i.css({paddingTop:0,paddingBottom:0})):m.css({overflowX:"hidden"});var b=i.css("maxHeight");parseInt(b)&&(i.css("maxHeight","none"),m.css("maxHeight",b)),i.scrollTop(0);var y=t("body"),H={};t.each(u,a),m.on("scroll",c),c(),n.preventParentScroll&&s();var T={$container:i,$bar:H.y,$barX:H.x,$inner:m,destroy:h,updateBars:c,options:n};return i.data("custom-scroll",T),T}t.fn.customScroll=function(r){return this.length?"destroy"===r?(this.each(function(){var i=t(this).data("custom-scroll");i&&i.destroy()}),this):1===this.length?i(this,r):void this.each(function(){i(t(this),r)}):t.extend(o,r)};var o={prefix:"custom-scroll_",barMinHeight:10,barMinWidth:10,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,trackWidth:10,trackHeight:10,barHtml:"<div><span></span></div>",vertical:!0,horizontal:!1,preventParentScroll:!0},r={dim:"height",Dim:"Height",dir:"top",Dir:"Top",dir2:"bottom",Dir2:"Bottom",clientAxis:"clientY",suffix:"-y"},e={dim:"width",Dim:"Width",dir:"left",Dir:"Left",dir2:"right",Dir2:"Right",clientAxis:"clientX",suffix:"-x"}}(jQuery);